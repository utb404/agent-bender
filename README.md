# AgentBender

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ UI-–∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Large Language Models (LLM).

## –û–ø–∏—Å–∞–Ω–∏–µ

AgentBender ‚Äî —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã –Ω–∞ Python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Playwright –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Page Object Model –Ω–∞ –æ—Å–Ω–æ–≤–µ JSON —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LLM (–Ω–∞–ø—Ä–∏–º–µ—Ä, Ollama) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –∏ –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ –∏–∑ JSON —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤
- ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM (Ollama, OpenAI, Anthropic)
- üìÑ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Page Object Model –∫–ª–∞—Å—Å–æ–≤
- üéØ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤ –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
- üîß –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —à–∞–±–ª–æ–Ω—ã –∏ —Å—Ç–∏–ª–∏ –∫–æ–¥–∞
- üì¶ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∏–∫—Å—Ç—É—Ä –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- üé® –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç–∏–ª–µ–π –∫–æ–¥–∞ (black, autopep8)
- üîÑ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤
- üìä –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd AgentBender

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
pip install -e .
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.9+
- Playwright
- Ollama (–∏–ª–∏ –¥—Ä—É–≥–æ–π LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ—Å—Ç-–∫–µ–π—Å–∞

–°–æ–∑–¥–∞–π—Ç–µ JSON —Ñ–∞–π–ª —Å —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–º:

```json
{
  "test_case": {
    "id": "TC-001",
    "title": "–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
    "description": "–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –≤–∞–ª–∏–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏",
    "priority": "High",
    "tags": ["authentication", "smoke"],
    "preconditions": [
      "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ —Å–∏—Å—Ç–µ–º–µ",
      "–ë—Ä–∞—É–∑–µ—Ä –æ—Ç–∫—Ä—ã—Ç"
    ],
    "steps": [
      {
        "step_number": 1,
        "action": "navigate",
        "target": "url",
        "value": "https://example.com/login",
        "description": "–û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞"
      },
      {
        "step_number": 2,
        "action": "fill",
        "target": "input[name='username']",
        "value": "test_user",
        "description": "–í–≤–µ—Å—Ç–∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
      },
      {
        "step_number": 3,
        "action": "fill",
        "target": "input[name='password']",
        "value": "password123",
        "description": "–í–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å"
      },
      {
        "step_number": 4,
        "action": "click",
        "target": "button[type='submit']",
        "description": "–ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É –≤—Ö–æ–¥–∞"
      },
      {
        "step_number": 5,
        "action": "verify",
        "target": "dashboard",
        "description": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É"
      }
    ],
    "expected_result": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É"
  }
}
```

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ CLI

```bash
# –ë–∞–∑–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
agentbender generate --input test_case.json --output ./generated_tests

# –° –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
agentbender generate \
    --input test_case.json \
    --config config.yaml \
    --output ./generated_tests

# –° –æ–ø—Ü–∏—è–º–∏
agentbender generate \
    --input test_case.json \
    --model llama3:8b \
    --temperature 0.3 \
    --quality high \
    --use-cdp
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Python API

```python
from agentbender import TestGenerator, GenerationConfig, LLMConfig

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
config = GenerationConfig(
    llm=LLMConfig(
        provider="ollama",
        base_url="http://localhost:11434",
        model="llama3",
        temperature=0.7
    ),
    output_dir="./generated_tests"
)

# –°–æ–∑–¥–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
generator = TestGenerator(config=config)

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–∞
test_case = {
    "id": "TC-001",
    "title": "–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
    "description": "...",
    "steps": [...],
    "expected_result": "..."
}

result = generator.generate(test_case)

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
if result.status == "success":
    output_path = result.save_to_directory("./generated_tests")
    print(f"–¢–µ—Å—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ {output_path}")
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `config.yaml`:

```yaml
llm:
  provider: "ollama"
  base_url: "http://localhost:11434"
  model: "llama3"
  temperature: 0.7
  timeout: 300
  max_retries: 3

generation:
  output_dir: "./generated_tests"
  code_style: "black"
  use_cdp: false

validation:
  level: "basic"
  validate_syntax: true
  validate_structure: true

performance:
  max_workers: 4
  enable_caching: true
  cache_ttl: 3600

playwright:
  browser: "chromium"
  headless: true
  timeout: 30000
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
agentbender/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ core/              # –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ generator.py   # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å TestGenerator
‚îÇ   ‚îú‚îÄ‚îÄ parser.py      # –ü–∞—Ä—Å–µ—Ä —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ validator.py   # –í–∞–ª–∏–¥–∞—Ç–æ—Ä –∫–æ–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ prompt_builder.py
‚îú‚îÄ‚îÄ generators/        # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∫–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ test_generator.py
‚îÇ   ‚îú‚îÄ‚îÄ page_object_generator.py
‚îÇ   ‚îî‚îÄ‚îÄ fixture_generator.py
‚îú‚îÄ‚îÄ models/            # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ test_case.py
‚îÇ   ‚îú‚îÄ‚îÄ config.py
‚îÇ   ‚îî‚îÄ‚îÄ results.py
‚îú‚îÄ‚îÄ providers/         # LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ base_provider.py
‚îÇ   ‚îî‚îÄ‚îÄ ollama_provider.py
‚îú‚îÄ‚îÄ templates/         # –®–∞–±–ª–æ–Ω—ã Jinja2
‚îÇ   ‚îú‚îÄ‚îÄ test_template.py.j2
‚îÇ   ‚îú‚îÄ‚îÄ page_object_template.py.j2
‚îÇ   ‚îî‚îÄ‚îÄ fixture_template.py.j2
‚îú‚îÄ‚îÄ utils/            # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ formatter.py
‚îÇ   ‚îî‚îÄ‚îÄ file_manager.py
‚îî‚îÄ‚îÄ cli/              # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    ‚îî‚îÄ‚îÄ main.py
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ñ–∞–π–ª–∞—Ö:
- `API_DESIGN.md` - –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ API
- `ARCHITECTURE.md` - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

## –õ–∏—Ü–µ–Ω–∑–∏—è

[–£–∫–∞–∑–∞—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é]

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

[–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è]
